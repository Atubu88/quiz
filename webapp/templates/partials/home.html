<div class="home-view">
  <div class="home-view__pinned">
    <section class="home-header">
      <span class="home-header__eyebrow">Подборка викторин</span>
    </section>

    {% if categories_error %}
      <p class="notice">{{ categories_error }}</p>
    {% endif %}

    {% if categories %}
      <section class="categories-section">
        <div
          class="categories-scroll"
          role="tablist"
          aria-label="Категории викторин"
          data-category-bar
        >
          {% for category in categories %}
            <button
              type="button"
              class="category-chip{% if category.id == selected_category_id %} is-active{% endif %}"
              role="tab"
              aria-selected="{{ 'true' if category.id == selected_category_id else 'false' }}"
              hx-get="/category/{{ category.id }}/quizzes"
              hx-target="#category-panel"
              hx-swap="innerHTML"
              hx-push-url="/?category={{ category.id }}"
              hx-indicator=".htmx-indicator"
            >
              <span class="category-chip__title">{{ category.name }}</span>
            </button>
          {% endfor %}
        </div>
      </section>
    {% endif %}
  </div>

  <div class="home-view__content">
    <div id="category-panel" class="category-panel">
      {% if categories %}
        {% include "partials/category_panel.html" %}
      {% else %}
        <p class="empty-state">Нет активных категорий для отображения.</p>
      {% endif %}
    </div>
  </div>
</div>
